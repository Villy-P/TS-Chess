# TS-Chess

Chess game in TypeScript. For Logic class

1186 lines of non-autogenerated code

## Sources Used

---

[W3Schools](https://www.w3schools.com/) for HTML and CSS stuff.

[Wikipedia](https://www.wikipedia.org/) for computer stuff.

[Stack Overflow](https://stackoverflow.com/) for answers to stuff.

[SebLague](https://github.com/SebLague) for some FEN handling.

---

## Languages Used

---

- **TypeScript** for the majority of the code.
- **JavaScript** (TypeScript compiles into JavaScript, so about half of the code will be JavaScript)
- **SASS/CSS** For styling the webpage
- **HTML** for making the webpage
- **Git** for source control
- **JSON** for the tsconfig file

---

## HTML

---

HTML (Hyper Text Markup Language) is a language used for creating webpages.
All webpages on the internet has an HTML page.
HTML uses tags to create webpages.

Each page needs to start with a `DOCTYPE` tag like this:

``` html
<!DOCTYPE html>
```

This tells the browser to expect a HTML type when it loads in the page.

Next you can specify the language as such:

``` html
<html lang="en">
```

The `<html>` tag needs to have an ending. In fact, most tags in HTML need endings. Here is an example of the *paragraph* tag, which tells the browser to load in text:

``` html
<p>This is a paragraph tag with an ending --></p>
```

The `<html>` tags ending will be located at the end of the file. All code within these two tags will be loaded into the webpage.

Next we specify a `<head>` tag like so:

``` html
<head>
    <title>Chess</title>
    <link rel="stylesheet" href="src/CSS/style.css">
</head>
```

This tag is used for storing data about the webpage. That `<title>` tag tells the browser what name to give the webpage so it can display it to the user.

We'll come back to what the `<link>` tag does later.

Right after the `<head>` tag we have our `<body>` tag, which tells the webpage what to display to the screen.

The first the in out `<body>` is `<ul>`, which specifies a new unordered list.
Within the `<ul>` tag we give it an `id` of `"header"`, so that in the CSS and TypeScript/JavaScript we can access it by that id.

Within the unordered list we have the `<li>` tag which is a list item.

Here is an example of the `<ul>` tag and the `<li>` tag.

``` html
<ul>
    <li>This</li>
    <li>Is</li>
    <li>An</li>
    <li>Unordered</li>
    <li>List</li>
</ul>
```

This returns:

- This
- Is
- An
- Unordered
- List

Within the `<li>`, there is a `<a>` tag with a `href` of `javascript:void(0)` and a class of `dropdown`. The class is sort of the same as an id, and the `href` attribute specifies what the link's destination will be.  
When we set that value to `javascript:void(0)`, it basically says *do nothing*.

Then we have this long `<div>` tag:

``` html
<div class="dropdown-content">
    <a href="#"><input type="color" value="#FFFFFF" id="colorWell1"> White Square</a>
    <a href="#"><input type="color" value="#006400" id="colorWell2"> Black Square</a>
    <a href="#"><input type="color" value="#5f9ea0" id="colorWell3"> Canvas Background</a>
    <a href="#"><input type="color" value="#25383C" id="colorWell4"> Background Color</a>
    <a href="#"><input type="color" value="#38444d" id="colorWell5"> Header Color</a>
    <a href="#"><input type="color" value="#FFFFFF" id="colorWell6"> History Canvas Background</a>
</div>
```

The `<div>` tag itself specifies a certain section of the webpage and it has a class name of `dropdown-content`.
Each item within the `<div>` tag has an `<a>` tag with a href of `"#"` (do nothing) and an `<input>` tag that specifies the type of input.
We set the `type` attribute to `color` so the webpage knows we will be making a color selector.
Then we give the base color value as a certain color value, which is a very fancy way of specifying different color (Like an RGBA value).
The `#FFFFFF` color is white, specifyed by the 3 pairs of `FF`, which means full values of Red, Green, and White (255, 255, 255).
Next we assign each value an `id` so we can access it in the TypeScript/JavaScript.
The White Text is what we will actually be displaying to the user.

When you look at the unordered list in the webpage it does not look like a list, but rathers a bar with dropdowns.
This is due to styling in CSS, which we will go over later.

Next, we create two canvases with the `<canvas>` tag.
A canvas is a box that we can draw things on, such as shapes and images.
The `historyCanvas` will be used for displaying the game history, and the `mainCanvas` will be used for the actual chess game.

Next we have many `<script>` tags with an `src` attribute.
Whatever we put into `src`, the program will read whatever file and load that in. The `<script>` tag is for JavaScript, so we load in many Javascript pages.
We'll go over all these files later.

---

## SASS & CSS

---

In our HTML file, within the `<head>` tag, we have a `<link>` tag with a `rel` of `stylesheet` and a `href` of `src/CSS/style.css`.
`rel` stands for *relationship* and is used to tell what *type* of link it will be.
Then we assign it a link that points to our stylesheet.

Now, within our `src/CSS` we have three files:

- `style.css`
- `style.css.map`
- `style.scss`

The first two were autogenerated by the third one. The third one is a `Sass` file, which compiles to CSS.
CSS (Cascading Style Sheets) is *the worst thing to ever be made by humans, and is used to style `HTML` elements.
SASS is a way of making CSS less garbage.
You set attributes to values in three ways:

``` css
/* By tag*/
body {}
/* By Id*/
#idName {}
/* By class name*/
.className {}
```

You will put the style elements within the braces.

Let's look at the first element: `body`.

Since there is no `#` or `.`, we know that we will be changing the attributes of a tag.
This means whatever changes we make will apply to all `<body>` tags.

This is our `body` part in the `style.scss` file:

``` css
body {
    background-color: #25383C;
}
```

In `<body>` we only have one attribute: `background-color`, which sets the background color of the body to a color code of `#25383C`.

Next we have two canvas values, but let's only look at the first one.

``` css
#mainCanvas  {
    background-color: cadetblue;
    border: 1px solid black;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);               
}
```

We have a title of `#mainCanvas`, which means whichever tags in the `HTML` file have an id of `mainCanvas`, apply these attributes to them.
In this case we are setting the attributes of the main canvas where our chess game will run on.

The first tag (`background-color`) sets the background of the canvas to `cadetblue` (HTML can also read plain text as colors too).
Then we set the `border` attribute to `1px solid black`.
This sets the border of the canvas to be one pixel wide and have a boldened, black look to it.
The four next attributes have to do with setting the canvas to be centered on the screen.
Lets look at each of them.

- `position: absolute`
  - This means that the canvas will be positioned to be relative to the body. The next two properties will determine that.
- `top: 50%`
  - This sets the postition relative to the top to 50%. For example, if the screen was 1000px tall, then the canvas would be placed 500px away from the top.
- `left: 50%`
  - This sets the position relative to the left to 50%. For example, if the screen was 1000px wide, then the canvas would be placed 500px away from the left.
- The two properties above cause the canvas to shift to the middle of the screen, however the top left corner of the screen will be at the center, so we will need to place the center of the canvas to the center of the screen.
- `transform: translate(-50%, -50%)`
  - The `transform` property will move the canvas to the place provided.
  - The `translate` function will move it in whichever direction specified.
    - In this case, we translate it -50% in both directions because we want to shift if left and up by half of the canvas width and height. This causes the center of the canvas to be in the very center of the screen.

Next we have a bunch of properties for the navigation bar at the top of the screen. The rest of the code is used to make unordered lists look like that.

First we need to set the properties of the unordered list itself.

``` css
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #38444d;
}
```

Lets go over these properties one by one.

- `list-style-type: none`
  - If we were to create an unordered list in HTML without any CSS it would look like a normal, bulleted list. What we do with this tag is remove the bullet points.
- `margin: 0` and `padding: 0`
  - We'll go over these later.
- `overflow: hidden`
  - This says that if any of the value overflow (cannot be fit on the screen) to hide them from the user.
- `background-color`
  - Sets the background color

Now for `margin: 0` and `padding: 0`.

To understand these, first we have to understand the **box model**.

This is a box model:

``` text
╔═══════════════════════════╗
║           Margin          ║
║  ╔═════════════════════╗  ║
║  ║        Border       ║  ║
║  ║  ╔═══════════════╗  ║  ║
║  ║  ║    Padding    ║  ║  ║
║  ║  ║  ╔═════════╗  ║  ║  ║
║  ║  ║  ║ Content ║  ║  ║  ║
║  ║  ║  ╚═════════╝  ║  ║  ║
║  ║  ╚═══════════════╝  ║  ║
║  ╚═════════════════════╝  ║
╚═══════════════════════════╝
```

These are the parts of a box model:

- Margin
  - A transparent area around the border.
- Border
  - A border that surrounds the padding.
- Padding
  - A transparent area around the content.
- Content
  - The actual content (In this case an unordered list)

When we set the `margin` and `padding` to `0`, we are saying that there is no margin or padding.

Next we have `li`.

``` css
li {
  float: left;    
}
```

`li` is a list element, so out unordered list contains `li` tags. The `float` property tells all `li` tags to float to the left of the list, so in our navigation bar it will look like this:

``` text
╔═══════╦═══════════════════╗
║ Item  ║ Item              ║
╚═══════╩═══════════════════╝
```

If `float` were right, our navigation bar would look like this:

``` text
╔════════════════════╦══════╗
║               Item ║ Item ║
╚════════════════════╩══════╝
```

After this we have this block of code:

``` css
li a, .dropbtn {
  display: inline-block;
  color: black;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}
```

The `li a` tells the HTML that we are looking for `<a>` tags within `<li>` tags. The `.dropbtn` says we are also looking for a tag with the class name of `dropbtn`.

Lets go over all these attributes:

- `display: inline-block`
  - Set the display type to an inline block element.
- `color: black`
  - Unlike `background-color`, `color` sets the color of the text, so any text displayed on an `a` tag within a `li` tag with a class name of `dropbtn` will be `black`.
- `text-align: center`
  - Centers any text at the middle of that element.
- `padding: 14px 16px`
  - This sets the top and bottom padding to 14px and the left and right padding to 16px.
- `text-decoration: none`
  - Tells the HTML that the text should have no decoration applied to it.

Next we have another block:

``` css
li a:hover, .dropdown:hover .dropbtn {
  background-color: red;
}
```

This says whenever we hover over an `a` tag within a `li` tag with a class name of `dropbtn` within an element that has a class name of `dropdown`, change the background color to `red`.

Here are some more blocks (With their explanations in green)

``` css
/* Find a <li> tag with a class of dropdown */
li.dropdown {
  display: inline-block;
}

/* When you hover over a dropdown-content class and an <a> tag, change the background color to gray */
.dropdown-content a:hover {
  background-color: gray;
}

/* When you hover over a dropdown class and with a class of dropdown-content */
.dropdown:hover .dropdown-content {
  display: block;
}
```

Now we have another block:

``` css
.dropdown-content {
  display: none;
  position: absolute;
  background-color: black;
  min-width: 160px;
  z-index: 1;
}
```

- `display: none`
  - Hides the display (While you are not hovering over it)
- `position: absolute`
  - This means that the canvas will be positioned to be relative to the body.
- `background-color: black`
  - Sets the background color to black.
- `min-width: 160px`
  - The width of the element will never be less than 160px.

---
